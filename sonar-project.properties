# =============================================================================
# SonarCloud Project Configuration
# =============================================================================
# MSP (Managed Service Provider) optimized settings
# =============================================================================

# Project Identification
sonar.projectKey=Kafkasportal_Portal-main-main
sonar.organization=kafkasportal
sonar.projectName=Portal-main-main
sonar.projectVersion=0.1.0

# SonarCloud Server Configuration
sonar.host.url=https://sonarcloud.io

# Source Configuration
sonar.sources=src
sonar.tests=src
sonar.inclusions=**/*.ts,**/*.tsx,**/*.js,**/*.jsx
# Exclusions:
# - Config files
# - Node modules and build outputs  
# - UI components (shadcn/ui pattern - third-party library components)
# - Auto-generated Supabase types
# - Type definition files
sonar.exclusions=**/*.config.js,**/*.config.ts,**/node_modules/**,**/.next/**,**/out/**,**/coverage/**,**/dist/**,**/build/**,**/components/ui/**,**/types/supabase.ts,**/*.d.ts

# Test Configuration
sonar.test.inclusions=**/*.test.ts,**/*.spec.ts,**/*.test.tsx,**/*.spec.tsx
sonar.coverage.exclusions=**/*.test.ts,**/*.spec.ts,**/*.stories.tsx,**/*.d.ts,**/*.config.ts,**/*.config.js,**/components/ui/**

# TypeScript Configuration
sonar.typescript.tsconfigPath=tsconfig.json
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# Language-Specific Settings
sonar.javascript.environments=es2022,node,browser
sonar.typescript.node=20

# Quality and Security
sonar.qualitygate.wait=true
sonar.scanner.forceZeroError=true

# Reporting
sonar.eslint.reportPaths=eslint-report.json
sonar.pmd.reportPaths=pmd-report.xml

# Security Rules (MSP Compliance)
sonar.security.hotspots.enabled=true
sonar.security.vulnerabilities.enabled=true

# Duplication Exclusions (CPD - Copy-Paste Detection)
# Exclude UI components (shadcn/ui pattern - designed to have similar structure)
# Exclude test files, stories, type definitions, and auto-generated files
sonar.cpd.exclusions=**/components/ui/**,**/*.stories.tsx,**/*.spec.ts,**/*.test.ts,**/*.test.tsx,**/*.spec.tsx,**/__tests__/**,**/*.d.ts,**/types/**,**/types/supabase.ts,**/mappers.ts,**/constants.ts
sonar.scm.exclusions.disabled=true

# Build Tools
sonar.node.workingDirectory=.
sonar.pnpm.executable=pnpm

# Custom Rules for MSP
# Ignore specific rules in specific contexts to reduce noise
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5,e6,e7,e8

# S1128: Unused imports - often false positives in TSX files due to type imports
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S1128
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.tsx

# S6957: Test-related rules in test files
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S6957
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.test.ts

# S4144: Duplicate function implementations - common in UI component libraries
sonar.issue.ignore.multicriteria.e3.ruleKey=typescript:S4144
sonar.issue.ignore.multicriteria.e3.resourceKey=**/components/ui/**

# S4323: Explicit any in test files (common pattern for mocking)
sonar.issue.ignore.multicriteria.e4.ruleKey=typescript:S4323
sonar.issue.ignore.multicriteria.e4.resourceKey=**/__tests__/**

# S1135: TODO/FIXME comments - acceptable during development
sonar.issue.ignore.multicriteria.e5.ruleKey=typescript:S1135
sonar.issue.ignore.multicriteria.e5.resourceKey=**/*

# S6606: Prefer nullish coalescing - stylistic choice
sonar.issue.ignore.multicriteria.e6.ruleKey=typescript:S6606
sonar.issue.ignore.multicriteria.e6.resourceKey=**/*

# S4323: Explicit any in type definition files
sonar.issue.ignore.multicriteria.e7.ruleKey=typescript:S4323
sonar.issue.ignore.multicriteria.e7.resourceKey=**/types/**

# S6666: Avoid non-null assertions - sometimes necessary with external libraries
sonar.issue.ignore.multicriteria.e8.ruleKey=typescript:S6666
sonar.issue.ignore.multicriteria.e8.resourceKey=**/components/ui/**
